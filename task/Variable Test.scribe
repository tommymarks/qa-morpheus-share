resource "task" "Variable Test" {
  name = "Variable Test"
  uuid = "3e26f801-34cf-49e8-b559-80c7b4553024"
  allowCustomConfig = false
  executeTarget = "resource"
  labels = [ { name = "keep" }, { name = "production" } ]
  lastUpdated = "2022-10-17T15:24:01.000Z"
  options = [
    {
      uuid = "13225960-e259-457a-9610-7d39c877eb89"
      optionType = { code = "password" }
    },
    {
      uuid = "38e09aec-0ae5-4908-835c-6f998b2609d2"
      optionType = { code = "username" }
    },
    {
      uuid = "3ab2d0b7-909c-47b0-bff9-66fc78165dc7"
      optionType = { code = "localScriptGitRef" }
    },
    {
      uuid = "4f1667c8-5e0b-42b5-9284-5317db617e18"
      optionType = { code = "sshKey" }
    },
    {
      uuid = "6a77cfb9-19db-489a-9596-1fe240311558"
      optionType = { code = "localScriptGitId" }
    },
    {
      uuid = "7d0bc786-e9ba-485d-a4bd-c6c304c017d3"
      content = { uuid = "5c04cf0f-54d1-4c8c-a885-5f754a7b55b5" }
      optionType = { code = "script" }
      value = <<EOF
echo "cypher: <%=cypher.read('secret/hello')%>" | tee -a /tmp/variables.txt
echo "customOptions: <%=instance.customOptions%>" | tee -a /tmp/variables.txt
echo "evars: <%=evars%>" | tee -a /tmp/variables.txt
echo "instance.metadata: <%=instance.metadata%>" | tee -a /tmp/variables.txt
echo "instance.instanceTypeName: <%=instance.instanceTypeName%>" | tee -a /tmp/variables.txt
echo "instance.instanceTypeCode: <%=instance.instanceTypeCode%>" | tee -a /tmp/variables.txt
echo "instance.provisionType: <%=instance.provisionType%>" | tee -a /tmp/variables.txt
echo "instance.instanceVersion: <%=instance.instanceVersion%>" | tee -a /tmp/variables.txt
echo "instance.plan: <%=instance.plan%>" | tee -a /tmp/variables.txt
echo "instance.name: <%=instance.name%>" | tee -a /tmp/variables.txt
echo "instance.displayName: <%=instance.displayName%>" | tee -a /tmp/variables.txt
echo "instance.description: <%=instance.description%>" | tee -a /tmp/variables.txt
echo "instance.environmentPrefix: <%=instance.environmentPrefix%>" | tee -a /tmp/variables.txt
echo "instance.hostname: <%=instance.hostname%>" | tee -a /tmp/variables.txt
echo "instance.domainName: <%=instance.domainName%>" | tee -a /tmp/variables.txt
echo "instance.firewallEnabled: <%=instance.firewallEnabled%>" | tee -a /tmp/variables.txt
echo "instance.status: <%=instance.status%>" | tee -a /tmp/variables.txt
echo "instance.userStatus: <%=instance.userStatus%>" | tee -a /tmp/variables.txt
echo "instance.networkLevel: <%=instance.networkLevel%>" | tee -a /tmp/variables.txt
echo "instance.instanceLevel: <%=instance.instanceLevel%>" | tee -a /tmp/variables.txt
echo "instance.deployGroup: <%=instance.deployGroup%>" | tee -a /tmp/variables.txt
echo "instance.instanceContext: <%=instance.instanceContext%>" | tee -a /tmp/variables.txt
echo "instance.autoScale: <%=instance.autoScale%>" | tee -a /tmp/variables.txt
echo "instance.statusMessage: <%=instance.statusMessage%>" | tee -a /tmp/variables.txt
echo "instance.expireDate: <%=instance.expireDate%>" | tee -a /tmp/variables.txt
echo "instance.tags: <%=instance.tags%>" | tee -a /tmp/variables.txt
echo "instance.storage: <%=instance.storage%>" | tee -a /tmp/variables.txt
echo "instance.memory: <%=instance.memory%>" | tee -a /tmp/variables.txt
echo "instance.cores: <%=instance.cores%>" | tee -a /tmp/variables.txt
echo "instance.configId: <%=instance.configId%>" | tee -a /tmp/variables.txt
echo "instance.configGroup: <%=instance.configGroup%>" | tee -a /tmp/variables.txt
echo "instance.configRole: <%=instance.configRole%>" | tee -a /tmp/variables.txt
echo "instance.containers[0]: <%=instance.containers[0].containerTypeName%>" | tee -a /tmp/variables.txt
echo "container.containerTypeName: <%=container.containerTypeName%>" | tee -a /tmp/variables.txt
echo "container.containerTypeCode: <%=container.containerTypeCode%>" | tee -a /tmp/variables.txt
echo "container.containerTypeShortName: <%=container.containerTypeShortName%>" | tee -a /tmp/variables.txt
echo "container.provisionType: <%=container.provisionType%>" | tee -a /tmp/variables.txt
echo "container.dataPath: <%=container.dataPath%>" | tee -a /tmp/variables.txt
echo "container.logsPath: <%=container.logsPath%>" | tee -a /tmp/variables.txt
echo "container.configPath: <%=container.configPath%>" | tee -a /tmp/variables.txt
echo "container.planCode: <%=container.planCode%>" | tee -a /tmp/variables.txt
echo "container.dateCreated: <%=container.dateCreated%>" | tee -a /tmp/variables.txt
echo "container.status: <%=container.status%>" | tee -a /tmp/variables.txt
echo "container.environmentPrefix: <%=container.environmentPrefix%>" | tee -a /tmp/variables.txt
echo "container.version: <%=container.version%>" | tee -a /tmp/variables.txt
echo "container.image: <%=container.image%>" | tee -a /tmp/variables.txt
echo "container.internalHostname: <%=container.internalHostname%>" | tee -a /tmp/variables.txt
echo "container.hostname: <%=container.hostname%>" | tee -a /tmp/variables.txt
echo "container.domainName: <%=container.domainName%>" | tee -a /tmp/variables.txt
echo "container.storage: <%=container.storage%>" | tee -a /tmp/variables.txt
echo "container.memory: <%=container.memory%>" | tee -a /tmp/variables.txt
echo "container.cores: <%=container.cores%>" | tee -a /tmp/variables.txt
echo "container.internalIp: <%=container.internalIp%>" | tee -a /tmp/variables.txt
echo "container.externalIp: <%=container.externalIp%>" | tee -a /tmp/variables.txt
echo "container.sshHost: <%=container.sshHost%>" | tee -a /tmp/variables.txt
echo "container.hostMountPoint: <%=container.hostMountPoint%>" | tee -a /tmp/variables.txt
echo "container.configId: <%=container.configId%>" | tee -a /tmp/variables.txt
echo "container.configGroup: <%=container.configGroup%>" | tee -a /tmp/variables.txt
echo "container.configRole: <%=container.configRole%>" | tee -a /tmp/variables.txt
echo "container.serverId: <%=container.serverId%>" | tee -a /tmp/variables.txt
echo "container.server: <%=container.server.serverTypeName%>" | tee -a /tmp/variables.txt
echo "server.serverTypeName: <%=server.serverTypeName%>" | tee -a /tmp/variables.txt
echo "server.serverTypeCode: <%=server.serverTypeCode%>" | tee -a /tmp/variables.txt
echo "server.parentServerId: <%=server.parentServerId%>" | tee -a /tmp/variables.txt
echo "server.plan: <%=server.plan%>" | tee -a /tmp/variables.txt
echo "server.visibility: <%=server.visibility%>" | tee -a /tmp/variables.txt
echo "server.osTypeCode: <%=server.osTypeCode%>" | tee -a /tmp/variables.txt
echo "server.sourceImageId: <%=server.sourceImageId%>" | tee -a /tmp/variables.txt
echo "server.name: <%=server.name%>" | tee -a /tmp/variables.txt
echo "server.displayName: <%=server.displayName%>" | tee -a /tmp/variables.txt
echo "server.internalName: <%=server.internalName%>" | tee -a /tmp/variables.txt
echo "server.category: <%=server.category%>" | tee -a /tmp/variables.txt
echo "server.description: <%=server.description%>" | tee -a /tmp/variables.txt
echo "server.internalId: <%=server.internalId%>" | tee -a /tmp/variables.txt
echo "server.externalId: <%=server.externalId%>" | tee -a /tmp/variables.txt
echo "server.platform: <%=server.platform%>" | tee -a /tmp/variables.txt
echo "server.platformVersion: <%=server.platformVersion%>" | tee -a /tmp/variables.txt
echo "server.agentVersion: <%=server.agentVersion%>" | tee -a /tmp/variables.txt
echo "server.nodePackageVersion: <%=server.nodePackageVersion%>" | tee -a /tmp/variables.txt
echo "server.sshHost: <%=server.sshHost%>" | tee -a /tmp/variables.txt
echo "server.sshPort: <%=server.sshPort%>" | tee -a /tmp/variables.txt
echo "server.sshUsername: <%=server.sshUsername%>" | tee -a /tmp/variables.txt
echo "server.consoleType: <%=server.consoleType%>" | tee -a /tmp/variables.txt
echo "server.consoleHost: <%=server.consoleHost%>" | tee -a /tmp/variables.txt
echo "server.consolePort: <%=server.consolePort%>" | tee -a /tmp/variables.txt
echo "server.consoleUsername: <%=server.consoleUsername%>" | tee -a /tmp/variables.txt
echo "server.internalSshUsername: <%=server.internalSshUsername%>" | tee -a /tmp/variables.txt
echo "server.internalIp: <%=server.internalIp%>" | tee -a /tmp/variables.txt
echo "server.externalIp: <%=server.externalIp%>" | tee -a /tmp/variables.txt
echo "server.osDevice: <%=server.osDevice%>" | tee -a /tmp/variables.txt
echo "server.dataDevice: <%=server.dataDevice%>" | tee -a /tmp/variables.txt
echo "server.lvmEnabled: <%=server.lvmEnabled%>" | tee -a /tmp/variables.txt
echo "server.apiKey: <%=server.apiKey%>" | tee -a /tmp/variables.txt
echo "server.softwareRaid: <%=server.softwareRaid%>" | tee -a /tmp/variables.txt
echo "server.status: <%=server.status%>" | tee -a /tmp/variables.txt
echo "server.powerState: <%=server.powerState%>" | tee -a /tmp/variables.txt
echo "server.dateCreated: <%=server.dateCreated%>" | tee -a /tmp/variables.txt
echo "server.lastAgentUpdate: <%=server.lastAgentUpdate%>" | tee -a /tmp/variables.txt
echo "server.serverType: <%=server.serverType%>" | tee -a /tmp/variables.txt
echo "server.osType: <%=server.osType%>" | tee -a /tmp/variables.txt
echo "server.commType: <%=server.commType%>" | tee -a /tmp/variables.txt
echo "server.managed: <%=server.managed%>" | tee -a /tmp/variables.txt
echo "server.agentInstalled: <%=server.agentInstalled%>" | tee -a /tmp/variables.txt
echo "server.toolsInstalled: <%=server.toolsInstalled%>" | tee -a /tmp/variables.txt
echo "server.hostname: <%=server.hostname%>" | tee -a /tmp/variables.txt
echo "server.domainName: <%=server.domainName%>" | tee -a /tmp/variables.txt
echo "server.statusMessage: <%=server.statusMessage%>" | tee -a /tmp/variables.txt
echo "server.maxStorage: <%=server.maxStorage%>" | tee -a /tmp/variables.txt
echo "server.maxMemory: <%=server.maxMemory%>" | tee -a /tmp/variables.txt
echo "server.maxCores: <%=server.maxCores%>" | tee -a /tmp/variables.txt
echo "server.macAddress: <%=server.macAddress%>" | tee -a /tmp/variables.txt
echo "server.serverVendor: <%=server.serverVendor%>" | tee -a /tmp/variables.txt
echo "server.serverModel: <%=server.serverModel%>" | tee -a /tmp/variables.txt
echo "server.serialNumber: <%=server.serialNumber%>" | tee -a /tmp/variables.txt
echo "server.tags: <%=server.tags%>" | tee -a /tmp/variables.txt
echo "server.configId: <%=server.configId%>" | tee -a /tmp/variables.txt
echo "server.configGroup: <%=server.configGroup%>" | tee -a /tmp/variables.txt
echo "server.configRole: <%=server.configRole%>" | tee -a /tmp/variables.txt
echo "zone.name: <%=zone.name%>" | tee -a /tmp/variables.txt
echo "zone.code: <%=zone.code%>" | tee -a /tmp/variables.txt
echo "zone.location: <%=zone.location%>" | tee -a /tmp/variables.txt
echo "zone.cloudTypeName: <%=zone.cloudTypeName%>" | tee -a /tmp/variables.txt
echo "zone.cloudTypeCode: <%=zone.cloudTypeCode%>" | tee -a /tmp/variables.txt
echo "zone.domainName: <%=zone.domainName%>" | tee -a /tmp/variables.txt
echo "zone.scalePriority: <%=zone.scalePriority%>" | tee -a /tmp/variables.txt
echo "zone.firewallEnabled: <%=zone.firewallEnabled%>" | tee -a /tmp/variables.txt
echo "zone.regionCode: <%=zone.regionCode%>" | tee -a /tmp/variables.txt
echo "zone.agentMode: <%=zone.agentMode%>" | tee -a /tmp/variables.txt
echo "zone.datacenterId: <%=zone.datacenterId%>" | tee -a /tmp/variables.txt
echo "group.code: <%=group.code%>" | tee -a /tmp/variables.txt
echo "group.name: <%=group.name%>" | tee -a /tmp/variables.txt
echo "group.location: <%=group.location%>" | tee -a /tmp/variables.txt
echo "group.datacenterId: <%=group.datacenterId%>" | tee -a /tmp/variables.txt
echo "container.server.volumes: <%=container.server.volumes%>" | tee -a /tmp/variables.txt
echo "instance.createdByEmail: <%=instance.createdByEmail%>" | tee -a /tmp/variables.txt
echo "instance.createdByFirstName: <%=instance.createdByFirstName%>" | tee -a /tmp/variables.txt
echo "instance.createdByLastName: <%=instance.createdByLastName%>" | tee -a /tmp/variables.txt
EOF
    },
    {
      uuid = "d550f025-b413-47f2-85d0-673920684deb"
      optionType = { code = "shell.sudo" }
    },
    {
      uuid = "dfdbfe99-50f1-41f1-8bfa-ddc9d587ab25"
      optionType = { code = "port" }
    },
    {
      uuid = "ff81fbaa-8a01-4337-abde-1fbeec0664ce"
      optionType = { code = "host" }
    }
  ]
  retryable = false
  taskType = { code = "script" }
  visibility = "private"
}